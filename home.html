<!DOCTYPE html>
<html>
<head>
    <title>Empires & Allies</title>
    <script src="https://unpkg.com/@ruffle-rs/ruffle"></script>
</head>
<body>
    <h1>üéÆ Empire & Allies</h1>
    <div id="game" style="width:1000px;height:750px;margin:auto;"></div>
    
    <script>
        // Verificar tama√±o SWF primero
        fetch('files/ZGame.109338_tracer2.swf')
            .then(r => r.blob())
            .then(blob => {
                if (blob.size < 1000000) {
                    document.body.innerHTML = `
                        <h1>‚ùå ERROR: SWF CORRUPTO</h1>
                        <p>Tama√±o: ${blob.size} bytes (deber√≠a ser >5MB)</p>
                        <p><strong>Soluci√≥n:</strong> Descarga el SWF correcto de archive.org</p>
                        <button onclick="window.location.href='https://archive.org/details/EmpiresAllies'">
                            üì• Descargar SWF
                        </button>
                    `;
                    return;
                }
                
                // Cargar juego si el SWF es v√°lido
                const player = window.RufflePlayer.newest().createPlayer();
                document.getElementById('game').appendChild(player);
                player.load('files/ZGame.109338_tracer2.swf');
            });
    </script>
</body>
</html>
