<!DOCTYPE html>
<html>
<head>
    <title>Empires & Allies</title>
    <style>
        body { text-align: center; font-family: Arial; padding: 20px; }
        .status { padding: 20px; margin: 10px; border-radius: 10px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <h1>üéÆ Empire & Allies</h1>
    
    <div id="status" class="status">
        <h3>Verificando sistema...</h3>
    </div>

    <div id="game-container"></div>

    <script>
        // Verificar SWF primero
        fetch('files/ZGame.109338_tracer2.swf')
            .then(response => {
                if (response.ok) {
                    document.getElementById('status').innerHTML = 
                        '<div class="success"><h3>‚úÖ SWF ENCONTRADO</h3><p>Cargando juego...</p></div>';
                    loadGame();
                } else {
                    showError('SWF NO ENCONTRADO en files/ZGame.109338_tracer2.swf');
                }
            })
            .catch(error => {
                showError('ERROR: ' + error.message);
            });

        function loadGame() {
            const script = document.createElement('script');
            script.src = 'https://unpkg.com/ruffle-rs@latest/ruffle.js';
            script.onload = () => {
                const player = window.RufflePlayer.newest().createPlayer();
                document.getElementById('game-container').appendChild(player);
                player.load('files/ZGame.109338_tracer2.swf')
                    .then(() => document.getElementById('status').innerHTML = 
                        '<div class="success"><h3>üéÆ ¬°JUEGO CARGADO!</h3><p>Empire & Allies est√° funcionando</p></div>')
                    .catch(e => showError('Error cargando SWF: ' + e.message));
            };
            script.onerror = () => showError('Error cargando Ruffle');
            document.head.appendChild(script);
        }

        function showError(message) {
            document.getElementById('status').innerHTML = 
                `<div class="error"><h3>‚ùå ERROR</h3><p>${message}</p>
                 <p><strong>Soluci√≥n:</strong> Descarga el SWF de archive.org y col√≥calo en files/ZGame.109338_tracer2.swf</p></div>`;
        }
    </script>
</body>
</html>
